window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){function e(e){i=i||setTimeout(function(){i=null,requestAnimationFrame(t)},300)}function t(){for(var e,t,i=window.pageYOffset,r=i+window.innerHeight,s=0;s<a.length;)i<(t=i+(e=a[s].getBoundingClientRect()).top)+e.height&&r>t?(n(a[s]),a[s].classList.remove("replace-img")):s++}function n(e){function t(){e.addEventListener("click",function(e){e.preventDefault()},!1),e.appendChild(n).addEventListener("animationend",function(t){var n=e.querySelector&&e.querySelector("img.preview");n&&(t.target.alt=n.alt||"",e.removeChild(n),t.target.classList.remove("reveal"))})}if(e&&e.href){var n=new Image;e.dataset&&(n.srcset=e.dataset.srcset||"",n.sizes=e.dataset.sizes||""),n.src=e.href,n.className="reveal",n.complete?t():n.onload=t}}var i,a=document.getElementsByClassName("progressive-img replace-img");window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1),t()},!1);